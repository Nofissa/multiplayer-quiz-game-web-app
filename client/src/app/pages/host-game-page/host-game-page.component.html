<div class="container flex-column">
    <app-nav-header class="nav-header" [backArrow]="false" [isActive]="false" [pin]="pin"></app-nav-header>
    <div class="buttons-wrapper flex-row">
        <button class="end-button" mat-raised-button (click)="cancelGame()">
            <mat-icon class="icon" fontIcon="logout"></mat-icon>
        </button>
        <button *ngIf="!isRunning()" class="lock-button" mat-raised-button (click)="toggleLock()">
            <mat-icon class="icon blink" *ngIf="!isLocked()" fontIcon="lock_open"></mat-icon>
            <mat-icon class="icon" *ngIf="isLocked()" fontIcon="lock"></mat-icon>
        </button>
        <app-panic-mode-button [pin]="pin"></app-panic-mode-button>
        <app-timer-pause-toggle [pin]="pin"></app-timer-pause-toggle>
        <div>
            <button class="start-button" mat-raised-button *ngIf="isLocked() && !isRunning()" (click)="startGame()">Commencer</button>
            <button class="next-button" mat-raised-button *ngIf="currentQuestionHasEnded && !isLastQuestion" (click)="nextQuestion()">
                Question Suivante
            </button>
            <button class="next-button" mat-raised-button *ngIf="currentQuestionHasEnded && isLastQuestion" (click)="endGame()">RÃ©sultats</button>
        </div>
    </div>
    <div class="main-container">
        <div class="game-information flex-column">
            <div *ngIf="isRunning()" class="question-headder">
                <app-game-transition
                    [pin]="pin"
                    [displayOptions]="{
                        hideTimerOnStartingGame: true,
                        hideTimerOnLoadingNextQuestion: true,
                        keepDisplayingCurrentQuestion: true,
                        hostGameComponent: true
                    }"
                ></app-game-transition>
            </div>
            <div *ngIf="!isRunning()" class="waiting-period-container">
                <div class="player-list-container">
                    <app-player-list
                        class="player-list"
                        [pin]="pin"
                        [displayOptions]="{ score: true, ban: true, quitters: true, mute: true }"
                    ></app-player-list>
                </div>
            </div>
            <div *ngIf="isRunning()">
                <div class="flex-row half-view-container">
                    <app-bar-chart-swiper class="bar-chart half-view" *ngIf="isEnded" [data]="barCharts"></app-bar-chart-swiper>
                    <div class="player-list-container">
                        <app-player-list
                            class="player-list"
                            [pin]="pin"
                            [displayOptions]="{ score: true, ban: true, quitters: true, mute: true }"
                        ></app-player-list>
                    </div>
                </div>
                <app-qrl-list *ngIf="isQRL()" [pin]="pin" class="half-view"></app-qrl-list>
            </div>
        </div>
        <app-chat-room class="app-component" [pin]="pin"></app-chat-room>
    </div>
</div>
